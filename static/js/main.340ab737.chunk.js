(this["webpackJsonpfake-trello"]=this["webpackJsonpfake-trello"]||[]).push([[0],{26:function(n,e,t){n.exports=t(41)},41:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),o=t(15),i=t.n(o),u=t(3),c=t(7),l=t(25),s=t(4),d=t(11),f=t.n(d),x=function(n){var e=a.a.useState({x:0,y:0}),t=Object(s.a)(e,2),r=t[0],o=t[1],i=a.a.useState(!1),u=Object(s.a)(i,2),c=u[0],l=u[1],d=a.a.useRef({x:0,y:0}),f=a.a.useRef({x:0,y:0}),x=a.a.useRef({x:0,y:0}),g=function n(){window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",n),o({x:0,y:0}),l(!1)},b=function(n){d.current.x=n.clientX,d.current.y=n.clientY,p(n.clientX,n.clientY)},p=function(e,t){var r=e-f.current.x,a=t-f.current.y,i=n.current.getBoundingClientRect(),u=e-i.x-f.current.x,c=t-i.y-f.current.y;x.current.x=u/Math.abs(u)||0,x.current.y=c/Math.abs(c)||0,o({x:r,y:a})};return{coord:r,dragging:c,handleMouseDown:function(e){e.preventDefault();var t=n.current.getBoundingClientRect();f.current.x=e.clientX-t.x,f.current.y=e.clientY-t.y,p(e.clientX,e.clientY),l(!0),window.addEventListener("mousemove",b),window.addEventListener("mouseup",g)},mouseCoord:d.current,moveDirection:x.current}},g=function(n){var e=a.a.useState(new DOMRect),t=Object(s.a)(e,2),r=t[0],o=t[1],i=a.a.useRef(null),u=function(){i.current&&o(i.current.getBoundingClientRect())};return a.a.useLayoutEffect((function(){u()}),[]),a.a.useLayoutEffect((function(){u()}),[n]),[r,i]},b=t(2);function p(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 8px 8px 8px;\n"]);return p=function(){return n},n}function m(){var n=Object(u.a)(["\n  display: flex;\n  padding: 12px 16px;\n"]);return m=function(){return n},n}function v(){var n=Object(u.a)(["\n  padding: 12px 16px;\n  color: #172b4d;\n  font-weight: 700;\n"]);return v=function(){return n},n}function h(){var n=Object(u.a)(["\n  display: ",";\n  top: ",";\n  left: ",";\n  background: rgba(0, 0, 0, 0.32);\n  width: 272px;\n  height: ",";\n"]);return h=function(){return n},n}function k(){var n=Object(u.a)(["\n      z-index: 2;\n      transform: rotate(5deg);\n      position: fixed;\n      box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.2);\n    "]);return k=function(){return n},n}function y(){var n=Object(u.a)(["\n  width: 272px;\n  flex: none;\n  background: #ebecf0;\n\n  font-size: 14px;\n  border-radius: 4px;\n\n  transition: box-shadow 0.2s, transform 0.2s;\n\n  ","\n"]);return y=function(){return n},n}function E(){var n=Object(u.a)(["\n  width: 272px;\n  border-radius: 4px;\n  height: ",";\n\n  & + div {\n    margin-left: 8px;\n  }\n"]);return E=function(){return n},n}var w,I=b.d.div(E(),(function(n){return n.height+"px"})),j=b.d.div(y(),(function(n){return n.dragging&&Object(b.c)(k())})),O=b.d.div(h(),(function(n){return n.dragging?"block":"none"}),(function(n){return n.y+"px"}),(function(n){return n.x+"px"}),(function(n){return n.height+"px"})),D=b.d.div(v()),L=b.d.div(m()),C=b.d.div(p()),R=t(6),z=a.a.createContext(null),M=new Array,S=function(n,e){return e.x>=n.x&&e.x<=n.x+n.width};function B(){var n=Object(u.a)(["\n  display: ",";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: inherit;\n  background: #ddd;\n"]);return B=function(){return n},n}function X(){var n=Object(u.a)(["\n  position: relative;\n  width: 256px;\n  background: white;\n  padding: 8px;\n  border-radius: 4px;\n  border-bottom: "," solid #bbb;\n  word-wrap: break-word;\n  font-size: 14px;\n  cursor: pointer;\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.1);\n\n  & + div {\n    margin-top: 8px;\n  }\n\n  &:hover {\n    background: #eee;\n  }\n"]);return X=function(){return n},n}var Y=b.d.div(X(),(function(n){return n.dragging?0:"1px"})),T=b.d.div(B(),(function(n){return n.dragging?"block":"none"})),A=function(n){var e=n.task,t=n.listIndex,r=n.index,o=a.a.useRef(null),i=a.a.useContext(z),u=i.beginTaskDrag,c=i.taskDragging,l=i.listIndex,s=i.taskIndex;a.a.useLayoutEffect((function(){!function(n,e,t){w[n][e]=t}(t,r,o.current.getBoundingClientRect())}),[t,r,e]);var d=c&&l===t&&s===r;return a.a.createElement(Y,{dragging:d,ref:o,onMouseDown:function(n){n.preventDefault(),u(r,t,n,o.current.getBoundingClientRect())}},e.title,a.a.createElement(T,{dragging:d}))},J=function(n){var e=n.list,t=n.listIndex,r=n.draggingList,o=g(t),i=Object(s.a)(o,2),u=i[0],c=i[1],l=g(t),d=Object(s.a)(l,2),f=d[0],b=d[1],p=x(c),m=p.coord,v=p.dragging,h=p.handleMouseDown,k=p.mouseCoord,y=p.moveDirection;return a.a.useLayoutEffect((function(){var n;n=u,M[t]=n}),[u,t]),a.a.useLayoutEffect((function(){v&&r(y.x,k)}),[m]),a.a.createElement(I,{index:t,height:f.height,ref:c},a.a.createElement(j,{ref:b,dragging:v,style:v?{top:m.y,left:m.x}:{top:u.y,left:u.x}},a.a.createElement(D,{onMouseDown:h},a.a.createElement("p",null,e.title)),a.a.createElement(C,null,e.tasks.map((function(n,e){return a.a.createElement(A,{key:n.id,task:n,listIndex:t,index:e})}))),a.a.createElement(L,null,a.a.createElement(R.b,null),a.a.createElement("p",null,"Adicionar outro cart\xe3o"))),a.a.createElement(O,{dragging:v,x:u.x,y:u.y,height:f.height}))},P=function(n){var e=n.task,t=n.left,r=n.top;return a.a.createElement(Y,{style:{position:"fixed",left:t,top:r,cursor:"grabbing",transform:"rotate(2.5deg)",boxShadow:"5px 5px 20px rgba(0, 0, 0, 0.3)",background:"white"}},e.title)},F=function(n,e){var t=a.a.useState(!1),r=Object(s.a)(t,2),o=r[0],i=r[1],u=a.a.useState({x:0,y:0}),l=Object(s.a)(u,2),d=l[0],f=l[1],x=a.a.useRef({x:0,y:0}),g=a.a.useRef({x:0,y:0}),b=a.a.useRef({taskIndex:0,listIndex:0}),p=a.a.useCallback((function(n,e){g.current={x:n,y:e},f({x:n-x.current.x,y:e-x.current.y})}),[]),m=a.a.useCallback((function(n){i(!0),p(n.clientX,n.clientY)}),[p]),v=a.a.useCallback((function(){i(!1),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",v)}),[m]),h=a.a.useCallback((function(n){return!(n<0||n>M.length-1||!S(M[n],g.current))}),[]),k=function(t){var r=Object(c.a)(n);r[t].tasks.push(r[b.current.listIndex].tasks[b.current.taskIndex]),r[b.current.listIndex].tasks.splice(b.current.taskIndex,1),b.current={listIndex:t,taskIndex:r[t].tasks.length-1},e(r)},y=a.a.useCallback((function(e,t){return!(e<0||e>n[b.current.listIndex].tasks.length-1||!function(n,e,t){return t>0?e.y>=n.y+.6*n.height:e.y<=n.y+.4*n.height}(w[b.current.listIndex][e],g.current,t))}),[]);return a.a.useLayoutEffect((function(){if(o){var t=g.current.x-x.current.x-M[b.current.listIndex].x,r=g.current.y-x.current.y-w[b.current.listIndex][b.current.taskIndex].y,a=t/Math.abs(t)||0,i=r/Math.abs(r)||0,u=b.current.listIndex+a,l=b.current.taskIndex+i;a&&h(u)?k(u):i&&y(l,i)&&function(t){var r=Object(c.a)(n),a=r[b.current.listIndex].tasks[b.current.taskIndex];r[b.current.listIndex].tasks[b.current.taskIndex]=r[b.current.listIndex].tasks[t],r[b.current.listIndex].tasks[t]=a,b.current.taskIndex=t,e(r)}(l)}}),[o,d,h,k]),{taskDragging:o,coord:d,beginTaskDrag:function(n,e,t,r){x.current={x:t.clientX-r.x,y:t.clientY-r.y},b.current={taskIndex:n,listIndex:e},p(t.clientX,t.clientY),window.addEventListener("mousemove",m),window.addEventListener("mouseup",v)},dragIndexes:b.current}};function Q(){var n=Object(u.a)(["\n  position: fixed;\n  background: red;\n  width: 272px;\n  height: 50px;\n"]);return Q=function(){return n},n}function q(){var n=Object(u.a)(["\n  position: absolute;\n  display: flex;\n  padding: 8px;\n  height: 100%;\n  align-items: flex-start;\n"]);return q=function(){return n},n}function G(){var n=Object(u.a)(["\n  position: relative;\n  flex: 1;\n  overflow-x: auto;\n"]);return G=function(){return n},n}var H=b.d.div(G()),K=b.d.div(q()),N=(b.d.div(Q()),[{title:"Backlog",tasks:["backlog task","anothter backlog task","very long task with a lot of blank space to test the text wrapper","A very looooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooong task"]},{title:"To dos",tasks:["a todo task"]},{title:"Done",tasks:["a done task"]}]),U=function(n){var e;w||(e=N.map((function(n){return n.tasks.map((function(n){return new DOMRect}))})),w=e);var t=a.a.useState((function(){return N.map((function(n){return Object(l.a)({},n,{id:f.a.generate(),tasks:n.tasks.map((function(n){return{id:f.a.generate(),title:n}}))})}))})),r=Object(s.a)(t,2),o=r[0],i=r[1],u=F(o,i),d=u.beginTaskDrag,x=u.coord,g=u.taskDragging,b=u.dragIndexes,p=a.a.useCallback((function(n){return function(e,t){var r=n+e;if(r<0||r>=o.length||!S(M[r],t))return!1;var a=Object(c.a)(o),u=a[r];return a[r]=a[n],a[n]=u,i(a),!0}}),[o]),m=a.a.useMemo((function(){return{beginTaskDrag:d,taskDragging:g,taskIndex:b.taskIndex,listIndex:b.listIndex}}),[b.taskIndex,b.listIndex,g,d]);return a.a.createElement(z.Provider,{value:m},a.a.createElement(H,null,a.a.createElement(K,null,o.map((function(n,e){return a.a.createElement(J,{draggingList:p(e),key:n.id,listIndex:e,list:n})}))),g&&a.a.createElement(P,{task:o[b.listIndex].tasks[b.taskIndex],left:x.x,top:x.y})))};function V(){var n=Object(u.a)(["\n\n\n\n  * {\n    padding: 0;\n    margin: 0;\n    outline: 0;\n    box-sizing: border-box;\n    font-family: sans-serif;\n  }\n\n  body{\n    color: #172b4d;\n  }\n\n  button {\n    cursor: pointer;\n  }\n\n"]);return V=function(){return n},n}var W=Object(b.b)(V()),Z={},$=t(19),_=t(20),nn=t(21),en=t(22),tn=t(23),rn=t(24);function an(){var n=Object(u.a)(['\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  font-family: "Pacifico", cursive;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  color: white;\n']);return an=function(){return n},n}function on(){var n=Object(u.a)(["\n  width: 100%;\n"]);return on=function(){return n},n}function un(){var n=Object(u.a)(["\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n  background: #aaa;\n"]);return un=function(){return n},n}function cn(){var n=Object(u.a)(["\n  border: none;\n  background: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  column-gap: 8px;\n  height: 32px;\n  min-width: 32px;\n  padding: 8px;\n  color: white;\n  font-weight: bolder;\n  font-size: 14px;\n  border-radius: 4px;\n  transition: background 0.2s;\n\n  &:hover {\n    background: ",";\n  }\n"]);return cn=function(){return n},n}function ln(){var n=Object(u.a)(["\n  width: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: ",";\n\n  button {\n    margin: 0 4px;\n  }\n"]);return ln=function(){return n},n}function sn(){var n=Object(u.a)(["\n  position: relative;\n  width: 100%;\n  height: 40px;\n  padding: 4px;\n\n  display: flex;\n  background: rgba(0, 0, 0, 0.32);\n"]);return sn=function(){return n},n}var dn=b.d.div(sn()),fn=b.d.div.attrs((function(n){return{right:n.right||!1}}))(ln(),(function(n){return n.right?"flex-end":"flex-start"})),xn=b.d.div.attrs((function(n){return{color:n.color||"rgba(255, 255, 255, .32)"}}))(cn(),(function(n){return n.color}),(function(n){var e=n.color;return Object(rn.a)(.1,e)})),gn=b.d.div(un()),bn=(Object(b.d)(xn)(on()),b.d.div(an())),pn=function(n){return a.a.createElement(dn,null,a.a.createElement(fn,null,a.a.createElement(xn,{as:"button"},a.a.createElement($.a,{size:16,color:"white"})),a.a.createElement(xn,{as:"button"},a.a.createElement(_.a,{size:18,color:"white"})),a.a.createElement(xn,{as:"button"},a.a.createElement(nn.a,{size:16}),a.a.createElement("p",null,"Quadros")),a.a.createElement(xn,{as:"input"})),a.a.createElement(bn,null,a.a.createElement(en.a,{size:24}),"Trello"),a.a.createElement(fn,{right:!0},a.a.createElement(xn,{as:"button"},a.a.createElement(R.b,{size:20,color:"white"})),a.a.createElement(xn,{as:"button"},a.a.createElement(R.a,{size:20,color:"white"})),a.a.createElement(xn,{as:"button",color:"#eb5a46"},a.a.createElement(tn.a,{size:20,color:"white"})),a.a.createElement(gn,null)))};function mn(){var n=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  width: 100%;\n  min-height: 100vh;\n\n  display: flex;\n  flex-direction: column;\n\n  background: #0079bf;\n"]);return mn=function(){return n},n}var vn=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(b.a,{theme:Z},a.a.createElement(W,null),a.a.createElement(hn,null,a.a.createElement(pn,null),a.a.createElement(U,null))))},hn=b.d.div(mn());i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(vn,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.340ab737.chunk.js.map