{"version":3,"sources":["hooks/useDnD.tsx","hooks/useElementRect.tsx","components/cardlist/styled.ts","util/index.ts","Contexts/DndTaskContext.tsx","components/taskCard/styled.ts","components/taskCard/index.tsx","components/cardlist/index.tsx","pages/panel/styles.ts","hooks/useDndTask.tsx","pages/panel/index.tsx","styles/index.ts","components/header/styles.ts","components/header/index.tsx","App.tsx","index.tsx"],"names":["useDnD","elementRef","React","useState","x","y","coord","setCoord","dragging","setDragging","mouseCoord","useRef","mouseOffset","moveDirection","handleMouseUp","window","removeEventListener","handleMouseMove","ev","current","clientX","clientY","settinPosition","posX","posY","rect","getBoundingClientRect","relativeX","relativeY","Math","abs","handleMouseDown","event","preventDefault","addEventListener","useElementRect","index","DOMRect","setRect","getRect","useLayoutEffect","taskRects","ElementContainer","styled","div","height","ElementContent","css","ElementShadow","ElementHeader","NewCardBtn","CardContainer","DndTaskContext","createContext","listRects","Array","rectInRangeX","width","Card","TaskCard","task","listIndex","containerRef","beginTaskDrag","useContext","taskIndex","saveTaskRect","ref","onMouseDown","title","CardList","list","draggingList","containerRect","contentRect","contentRef","style","top","left","tasks","map","key","id","Container","ListContainter","FakeCard","useDndTask","allLists","setAllLists","taskDragging","setTaskDragging","dragIndexes","setPosition","useCallback","mouseMove","mouseUp","horizontalCheck","toIndex","length","moveTaskHorizontally","newList","push","splice","verticalCheck","toTaskIndex","yDir","yDirection","rectInRangeY","xDir","toListIndex","tmp","moveTaskVertically","mock","Panel","props","arr","_","shortid","generate","draggedIndex","xDirection","indexOff","newArr","dndContextValue","useMemo","Provider","value","GlobalStyles","createGlobalStyle","theme","HeaderBtnWrapper","attrs","right","HeaderBox","color","transparentize","HeaderAvatar","HeaderTitle","Header","as","size","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.59f9622e.chunk.js","sourcesContent":["import React from \"react\";\nimport Coord from \"../models/Coord\";\n\nexport const useDnD = (\n  elementRef: React.MutableRefObject<HTMLDivElement | null>\n) => {\n  const [coord, setCoord] = React.useState<Coord>({\n    x: 0,\n    y: 0,\n  });\n\n  const [dragging, setDragging] = React.useState(false);\n\n  const mouseCoord = React.useRef<Coord>({\n    x: 0,\n    y: 0,\n  });\n\n  const mouseOffset = React.useRef({\n    x: 0,\n    y: 0,\n  });\n\n  const moveDirection = React.useRef({\n    x: 0,\n    y: 0,\n  });\n\n  const handleMouseDown = (\n    event: React.MouseEvent<HTMLDivElement, MouseEvent>\n  ) => {\n    event.preventDefault();\n    const rect = (elementRef.current as HTMLDivElement).getBoundingClientRect();\n    mouseOffset.current.x = event.clientX - rect.x;\n    mouseOffset.current.y = event.clientY - rect.y;\n    settinPosition(event.clientX, event.clientY);\n    setDragging(true);\n    window.addEventListener(\"mousemove\", handleMouseMove);\n    window.addEventListener(\"mouseup\", handleMouseUp);\n  };\n\n  const handleMouseUp = () => {\n    window.removeEventListener(\"mousemove\", handleMouseMove);\n    window.removeEventListener(\"mouseup\", handleMouseUp);\n    setCoord({ x: 0, y: 0 });\n    setDragging(false);\n  };\n\n  const handleMouseMove = (ev: MouseEvent) => {\n    mouseCoord.current.x = ev.clientX;\n    mouseCoord.current.y = ev.clientY;\n    settinPosition(ev.clientX, ev.clientY);\n  };\n\n  const settinPosition = (x: number, y: number) => {\n    const posX = x - mouseOffset.current.x;\n    const posY = y - mouseOffset.current.y;\n    const rect = (elementRef.current as HTMLDivElement).getBoundingClientRect();\n    const relativeX = x - rect.x - mouseOffset.current.x;\n    const relativeY = y - rect.y - mouseOffset.current.y;\n    moveDirection.current.x = relativeX / Math.abs(relativeX) || 0;\n    moveDirection.current.y = relativeY / Math.abs(relativeY) || 0;\n    setCoord({\n      x: posX,\n      y: posY,\n    });\n  };\n\n  return {\n    coord,\n    dragging,\n    handleMouseDown,\n    mouseCoord: mouseCoord.current,\n    moveDirection: moveDirection.current,\n  };\n};\n\nexport default useDnD;\n","import React from \"react\";\n\nexport const useElementRect = (\n  index?: number\n): [DOMRect, React.MutableRefObject<HTMLDivElement | null>] => {\n  const [rect, setRect] = React.useState<DOMRect>(new DOMRect());\n  const elementRef = React.useRef<HTMLDivElement | null>(null);\n\n  const getRect = () => {\n    if (elementRef.current) setRect(elementRef.current.getBoundingClientRect());\n  };\n\n  React.useLayoutEffect(() => {\n    getRect();\n  }, []);\n\n  React.useLayoutEffect(() => {\n    getRect();\n  }, [index]);\n\n  return [rect, elementRef];\n};\n\nexport default useElementRect;\n","import styled, { css } from \"styled-components\";\n\ninterface ElementContainerProps {\n  height: number;\n  index: number;\n}\n\nexport const ElementContainer = styled.div<ElementContainerProps>`\n  width: 272px;\n  border-radius: 4px;\n  height: ${({ height }) => height + \"px\"};\n\n  & + div {\n    margin-left: 8px;\n  }\n`;\n\ninterface ElementContentProps {\n  dragging: boolean;\n}\n\nexport const ElementContent = styled.div<ElementContentProps>`\n  width: 272px;\n  flex: none;\n  background: #ebecf0;\n\n  font-size: 14px;\n  border-radius: 4px;\n\n  transition: box-shadow 0.2s, transform 0.2s;\n\n  ${({ dragging }) =>\n    dragging &&\n    css`\n      z-index: 2;\n      transform: rotate(5deg);\n      position: fixed;\n      box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.2);\n    `}\n`;\n\ninterface ElementShadowProps {\n  x: number;\n  y: number;\n  height: number;\n  dragging: boolean;\n}\n\nexport const ElementShadow = styled.div<ElementShadowProps>`\n  display: ${({ dragging }) => (dragging ? \"block\" : \"none\")};\n  top: ${({ y }) => y + \"px\"};\n  left: ${({ x }) => x + \"px\"};\n  background: rgba(0, 0, 0, 0.32);\n  width: 272px;\n  height: ${({ height }) => height + \"px\"};\n`;\n\nexport const ElementHeader = styled.div`\n  padding: 12px 16px;\n  color: #172b4d;\n  font-weight: 700;\n`;\n\nexport const NewCardBtn = styled.div`\n  display: flex;\n  padding: 12px 16px;\n`;\n\nexport const CardContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  row-gap: 8px;\n  padding: 0 8px 8px 8px;\n`;\n","import Coord from \"../models/Coord\";\n\nexport let taskRects: DOMRect[][];\nexport let listRects: DOMRect[] = new Array<DOMRect>();\n\nexport const initTaskRect = (arr: DOMRect[][]) => {\n  taskRects = arr;\n};\n\nexport const saveTaskRect = (\n  listIndex: number,\n  taskIndex: number,\n  rect: DOMRect\n) => {\n  taskRects[listIndex][taskIndex] = rect;\n};\n\nexport const saveListRect = (linstIndex: number, rect: DOMRect) => {\n  listRects[linstIndex] = rect;\n};\n\nexport const rectInRangeX = (rect: DOMRect, coord: Coord): boolean => {\n  return coord.x >= rect.x && coord.x <= rect.x + rect.width;\n};\n\nexport const rectInRangeY = (\n  rect: DOMRect,\n  coord: Coord,\n  yDirection: number\n): boolean => {\n  return yDirection > 0\n    ? coord.y >= rect.y + rect.height * 0.6\n    : coord.y <= rect.y + rect.height * 0.4;\n};\n","import React from \"react\";\n\nexport interface DndTaskContextValue {\n  taskDragging: boolean;\n  listIndex: number;\n  taskIndex: number;\n  beginTaskDrag: (\n    taskIndex: number,\n    listIndex: number,\n    event: React.MouseEvent<HTMLDivElement, MouseEvent>,\n    rect: DOMRect\n  ) => void;\n}\n\nconst DndTaskContext = React.createContext<DndTaskContextValue | null>(null);\n\nexport default DndTaskContext;\n","import styled from \"styled-components\";\n\nexport const Card = styled.div`\n  width: 256px;\n  background: white;\n  padding: 8px;\n  border-radius: 4px;\n  border-bottom: 1px solid #aaa;\n  word-wrap: break-word;\n\n  & + div {\n    margin-top: 8px;\n  }\n`;\n","import React from \"react\";\nimport DndTaskContext, {\n  DndTaskContextValue,\n} from \"../../Contexts/DndTaskContext\";\nimport Task from \"../../models/Task\";\nimport { saveTaskRect } from \"../../util\";\nimport { Card } from \"./styled\";\n\ninterface Props {\n  task: Task;\n  listIndex: number;\n  index: number;\n}\n\nconst TaskCard = ({ task, listIndex, index }: Props) => {\n  const containerRef = React.useRef<HTMLDivElement | null>(null);\n\n  const { beginTaskDrag } = React.useContext(\n    DndTaskContext\n  ) as DndTaskContextValue;\n\n  React.useLayoutEffect(() => {\n    saveTaskRect(\n      listIndex,\n      index,\n      (containerRef.current as HTMLDivElement).getBoundingClientRect()\n    );\n  }, [listIndex, index, task]);\n\n  return (\n    <Card\n      ref={containerRef}\n      onMouseDown={(event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n        event.preventDefault();\n        beginTaskDrag(\n          index,\n          listIndex,\n          event,\n          (containerRef.current as HTMLDivElement).getBoundingClientRect()\n        );\n      }}\n    >\n      {task.title}\n    </Card>\n  );\n};\n\nexport default TaskCard;\n","import React from \"react\";\nimport useDnD from \"../../hooks/useDnD\";\nimport useElementRect from \"../../hooks/useElementRect\";\nimport Coord from \"../../models/Coord\";\nimport TaskList from \"../../models/List\";\nimport {\n  ElementContent,\n  ElementContainer,\n  ElementHeader,\n  CardContainer,\n  NewCardBtn,\n  ElementShadow,\n} from \"./styled\";\nimport { FiPlus } from \"react-icons/fi\";\nimport TaskCard from \"../taskCard\";\nimport { saveListRect } from \"../../util\";\n\ninterface Props {\n  list: TaskList;\n  listIndex: number;\n  draggingList: (xDirection: number, globalCoord: Coord) => boolean;\n}\n\nconst CardList = ({ list, listIndex, draggingList }: Props) => {\n  const [containerRect, containerRef] = useElementRect(listIndex);\n  const [contentRect, contentRef] = useElementRect(listIndex);\n  const {\n    coord,\n    dragging,\n    handleMouseDown,\n    mouseCoord,\n    moveDirection,\n  } = useDnD(containerRef);\n\n  React.useLayoutEffect(() => {\n    saveListRect(listIndex, containerRect);\n  }, [containerRect, listIndex]);\n\n  React.useLayoutEffect(() => {\n    if (dragging) {\n      if (draggingList(moveDirection.x, mouseCoord)) {\n      }\n    }\n  }, [coord]);\n\n  return (\n    <ElementContainer\n      index={listIndex}\n      height={contentRect.height}\n      ref={containerRef}\n    >\n      <ElementContent\n        ref={contentRef}\n        dragging={dragging}\n        style={\n          dragging\n            ? {\n                top: coord.y,\n                left: coord.x,\n              }\n            : {\n                top: containerRect.y,\n                left: containerRect.x,\n              }\n        }\n      >\n        <ElementHeader onMouseDown={handleMouseDown}>\n          <p>{list.title}</p>\n        </ElementHeader>\n        <CardContainer>\n          {list.tasks.map((task, taskIndex) => (\n            <TaskCard\n              key={task.id}\n              task={task}\n              listIndex={listIndex}\n              index={taskIndex}\n            />\n          ))}\n        </CardContainer>\n        <NewCardBtn>\n          <FiPlus />\n          <p>Adicionar outro cartão</p>\n        </NewCardBtn>\n      </ElementContent>\n      <ElementShadow\n        dragging={dragging}\n        x={containerRect.x}\n        y={containerRect.y}\n        height={contentRect.height}\n      />\n    </ElementContainer>\n  );\n};\nexport default CardList;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  position: relative;\n  flex: 1;\n  overflow-x: auto;\n`;\n\nexport const ListContainter = styled.div`\n  position: absolute;\n  display: flex;\n  padding: 8px;\n  height: 100%;\n  align-items: flex-start;\n`;\n\nexport const FakeCard = styled.div`\n  position: fixed;\n  background: red;\n  width: 272px;\n  height: 50px;\n`;\n","import React from \"react\";\nimport Coord from \"../models/Coord\";\nimport { taskRects, rectInRangeY, rectInRangeX, listRects } from \"../util\";\nimport TaskList from \"../models/List\";\n\nexport const useDndTask = (\n  allLists: TaskList[],\n  setAllLists: React.Dispatch<React.SetStateAction<TaskList[]>>\n) => {\n  const [taskDragging, setTaskDragging] = React.useState(false);\n  const [coord, setCoord] = React.useState<Coord>({\n    x: 0,\n    y: 0,\n  });\n\n  const mouseOffset = React.useRef<Coord>({\n    x: 0,\n    y: 0,\n  });\n\n  const mouseCoord = React.useRef<Coord>({\n    x: 0,\n    y: 0,\n  });\n\n  const dragIndexes = React.useRef({\n    taskIndex: 0,\n    listIndex: 0,\n  });\n\n  const beginTaskDrag = (\n    taskIndex: number,\n    listIndex: number,\n    event: React.MouseEvent<HTMLDivElement, MouseEvent>,\n    rect: DOMRect\n  ) => {\n    mouseOffset.current = {\n      x: event.clientX - rect.x,\n      y: event.clientY - rect.y,\n    };\n    dragIndexes.current = {\n      taskIndex,\n      listIndex,\n    };\n\n    setTaskDragging(true);\n    setPosition(event.clientX, event.clientY);\n    window.addEventListener(\"mousemove\", mouseMove);\n    window.addEventListener(\"mouseup\", mouseUp);\n  };\n\n  const setPosition = React.useCallback((x: number, y: number) => {\n    mouseCoord.current = { x, y };\n    setCoord({ x: x - mouseOffset.current.x, y: y - mouseOffset.current.y });\n  }, []);\n\n  const mouseMove = React.useCallback(\n    (ev: MouseEvent) => {\n      setPosition(ev.clientX, ev.clientY);\n    },\n    [setPosition]\n  );\n\n  const mouseUp = React.useCallback(() => {\n    setTaskDragging(false);\n    window.removeEventListener(\"mousemove\", mouseMove);\n    window.removeEventListener(\"mouseup\", mouseUp);\n  }, [mouseMove]);\n\n  const horizontalCheck = React.useCallback((toIndex: number): boolean => {\n    if (\n      toIndex < 0 ||\n      toIndex > listRects.length - 1 ||\n      !rectInRangeX(listRects[toIndex], mouseCoord.current)\n    )\n      return false;\n\n    return true;\n  }, []);\n\n  const moveTaskHorizontally = (toIndex: number) => {\n    const newList = [...allLists];\n\n    newList[toIndex].tasks.push(\n      newList[dragIndexes.current.listIndex].tasks[\n        dragIndexes.current.taskIndex\n      ]\n    );\n\n    newList[dragIndexes.current.listIndex].tasks.splice(\n      dragIndexes.current.taskIndex,\n      1\n    );\n\n    dragIndexes.current = {\n      listIndex: toIndex,\n      taskIndex: newList[toIndex].tasks.length - 1,\n    };\n\n    setAllLists(newList);\n  };\n\n  const verticalCheck = React.useCallback(\n    (toTaskIndex: number, yDir: number): boolean => {\n      if (\n        toTaskIndex < 0 ||\n        toTaskIndex >\n          allLists[dragIndexes.current.listIndex].tasks.length - 1 ||\n        !rectInRangeY(\n          taskRects[dragIndexes.current.listIndex][toTaskIndex],\n          mouseCoord.current,\n          yDir\n        )\n      )\n        return false;\n\n      return true;\n    },\n    []\n  );\n\n  const moveTaskVertically = (toTaskIndex: number) => {\n    const newList = [...allLists];\n\n    const tmp =\n      newList[dragIndexes.current.listIndex].tasks[\n        dragIndexes.current.taskIndex\n      ];\n\n    newList[dragIndexes.current.listIndex].tasks[\n      dragIndexes.current.taskIndex\n    ] = newList[dragIndexes.current.listIndex].tasks[toTaskIndex];\n\n    newList[dragIndexes.current.listIndex].tasks[toTaskIndex] = tmp;\n\n    dragIndexes.current.taskIndex = toTaskIndex;\n\n    setAllLists(newList);\n  };\n\n  React.useLayoutEffect(() => {\n    if (taskDragging) {\n      const relativeX =\n        mouseCoord.current.x -\n        mouseOffset.current.x -\n        listRects[dragIndexes.current.listIndex].x;\n\n      const relativeY =\n        mouseCoord.current.y -\n        mouseOffset.current.y -\n        taskRects[dragIndexes.current.listIndex][dragIndexes.current.taskIndex]\n          .y;\n\n      const xDir = relativeX / Math.abs(relativeX) || 0;\n      const yDir = relativeY / Math.abs(relativeY) || 0;\n\n      const toListIndex = dragIndexes.current.listIndex + xDir;\n      const toTaskIndex = dragIndexes.current.taskIndex + yDir;\n\n      if (xDir && horizontalCheck(toListIndex)) {\n        moveTaskHorizontally(toListIndex);\n      } else if (yDir && verticalCheck(toTaskIndex, yDir)) {\n        moveTaskVertically(toTaskIndex);\n      }\n    }\n  }, [taskDragging, coord, horizontalCheck, moveTaskHorizontally]);\n\n  return {\n    taskDragging,\n    coord,\n    beginTaskDrag,\n    dragIndexes: dragIndexes.current,\n  };\n};\n","import React from \"react\";\nimport CardList from \"../../components/cardlist\";\nimport TaskList from \"../../models/List\";\nimport { Container, ListContainter, FakeCard } from \"./styles\";\nimport shortid from \"shortid\";\nimport Coord from \"../../models/Coord\";\nimport { initTaskRect, taskRects, rectInRangeX, listRects } from \"../../util\";\nimport { useDndTask } from \"../../hooks/useDndTask\";\nimport DndTaskContext, {\n  DndTaskContextValue,\n} from \"../../Contexts/DndTaskContext\";\n\ninterface Props {}\n\nconst mock = [\n  {\n    title: \"Backlog\",\n    tasks: [\n      \"backlog task\",\n      \"anothter backlog task\",\n      \"very long task with a lot of blank space to test the text wrapper\",\n      \"A very looooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooong task\",\n    ],\n  },\n  {\n    title: \"To dos\",\n    tasks: [\"a todo task\"],\n  },\n  {\n    title: \"Done\",\n    tasks: [\"a done task\"],\n  },\n];\n\nconst Panel = (props: Props) => {\n  if (!taskRects)\n    initTaskRect(mock.map((list) => list.tasks.map((_) => new DOMRect())));\n\n  const [allLists, setAllLists] = React.useState<TaskList[]>(() => {\n    return mock.map((list) => ({\n      ...list,\n      id: shortid.generate(),\n      tasks: list.tasks.map((task) => ({\n        id: shortid.generate(),\n        title: task,\n      })),\n    }));\n  });\n\n  const { beginTaskDrag, coord, taskDragging, dragIndexes } = useDndTask(\n    allLists,\n    setAllLists\n  );\n\n  const draggingList = React.useCallback(\n    (draggedIndex: number) => (\n      xDirection: number,\n      mouseCoord: Coord\n    ): boolean => {\n      const indexOff = draggedIndex + xDirection;\n\n      if (\n        indexOff < 0 ||\n        indexOff >= allLists.length ||\n        !rectInRangeX(listRects[indexOff], mouseCoord)\n      )\n        return false;\n\n      const newArr = [...allLists];\n      const tmp = newArr[indexOff];\n      newArr[indexOff] = newArr[draggedIndex];\n      newArr[draggedIndex] = tmp;\n\n      setAllLists(newArr);\n      return true;\n    },\n    [allLists]\n  );\n\n  const dndContextValue: DndTaskContextValue = React.useMemo(\n    () => ({\n      beginTaskDrag,\n      taskDragging,\n      taskIndex: dragIndexes.taskIndex,\n      listIndex: dragIndexes.listIndex,\n    }),\n    [dragIndexes.taskIndex, dragIndexes.listIndex, taskDragging, beginTaskDrag]\n  );\n\n  return (\n    <DndTaskContext.Provider value={dndContextValue}>\n      <Container>\n        <ListContainter>\n          {allLists.map((list, index) => (\n            <CardList\n              draggingList={draggingList(index)}\n              key={list.id}\n              listIndex={index}\n              list={list}\n            />\n          ))}\n        </ListContainter>\n        <FakeCard\n          style={\n            taskDragging\n              ? {\n                  left: coord.x,\n                  top: coord.y,\n                }\n              : {\n                  left: 0,\n                  top: 0,\n                }\n          }\n        />\n      </Container>\n    </DndTaskContext.Provider>\n  );\n};\n\nexport default Panel;\n","import { createGlobalStyle } from \"styled-components\";\n\nexport const GlobalStyles = createGlobalStyle`\n\n\n\n  * {\n    padding: 0;\n    margin: 0;\n    outline: 0;\n    box-sizing: border-box;\n    font-family: sans-serif;\n  }\n\n  body{\n    color: #172b4d;\n  }\n\n  button {\n    cursor: pointer;\n  }\n\n`;\n\nexport const theme = {};\n","import styled from \"styled-components\";\nimport { transparentize } from \"polished\";\n\nexport const Container = styled.div`\n  position: relative;\n  width: 100%;\n  height: 40px;\n  padding: 4px;\n\n  display: flex;\n  background: rgba(0, 0, 0, 0.32);\n`;\n\ninterface HeaderBtnWrapperProps {\n  right?: boolean;\n}\n\nexport const HeaderBtnWrapper = styled.div.attrs(\n  ({ right }: HeaderBtnWrapperProps) => ({\n    right: right || false,\n  })\n)`\n  width: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: ${({ right }) => (right ? \"flex-end\" : \"flex-start\")};\n  column-gap: 4px;\n\n  button {\n  }\n`;\n\ninterface HeaderBoxProps {\n  color?: string;\n}\n\nexport const HeaderBox = styled.div.attrs(\n  ({ color }): HeaderBoxProps => ({\n    color: color || \"rgba(255, 255, 255, .32)\",\n  })\n)`\n  border: none;\n  background: ${({ color }) => color};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  column-gap: 8px;\n  height: 32px;\n  min-width: 32px;\n  padding: 8px;\n  color: white;\n  font-weight: bolder;\n  font-size: 14px;\n  border-radius: 4px;\n  transition: background 0.2s;\n\n  &:hover {\n    background: ${({ color }) => transparentize(0.1, color as string)};\n  }\n`;\n\nexport const HeaderAvatar = styled.div`\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n  background: #aaa;\n`;\n\nexport const HeaderInput = styled(HeaderBox)`\n  width: 100%;\n`;\n\nexport const HeaderTitle = styled.div`\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  font-family: \"Pacifico\", cursive;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  color: white;\n`;\n","import React from \"react\";\n\nimport { BsFillGrid3X3GapFill } from \"react-icons/bs\";\nimport { AiOutlineHome } from \"react-icons/ai\";\nimport { FaTrello } from \"react-icons/fa\";\nimport { FiAlertCircle, FiPlus } from \"react-icons/fi\";\nimport { DiTrello } from \"react-icons/di\";\nimport { MdNotificationsNone } from \"react-icons/md\";\nimport {\n  Container,\n  HeaderBox,\n  HeaderTitle,\n  HeaderBtnWrapper,\n  HeaderAvatar,\n} from \"./styles\";\n\ninterface Props {}\n\nconst Header = (props: Props) => {\n  return (\n    <Container>\n      <HeaderBtnWrapper>\n        <HeaderBox as=\"button\">\n          <BsFillGrid3X3GapFill size={16} color=\"white\" />\n        </HeaderBox>\n        <HeaderBox as=\"button\">\n          <AiOutlineHome size={18} color=\"white\" />\n        </HeaderBox>\n        <HeaderBox as=\"button\">\n          <FaTrello size={16} />\n          <p>Quadros</p>\n        </HeaderBox>\n        <HeaderBox as=\"input\" />\n      </HeaderBtnWrapper>\n      <HeaderTitle>\n        <DiTrello size={24} />\n        Trello\n      </HeaderTitle>\n      <HeaderBtnWrapper right>\n        <HeaderBox as=\"button\">\n          <FiPlus size={20} color=\"white\" />\n        </HeaderBox>\n        <HeaderBox as=\"button\">\n          <FiAlertCircle size={20} color=\"white\" />\n        </HeaderBox>\n        <HeaderBox as=\"button\" color=\"#eb5a46\">\n          <MdNotificationsNone size={20} color=\"white\" />\n        </HeaderBox>\n        <HeaderAvatar />\n      </HeaderBtnWrapper>\n    </Container>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport Panel from \"./pages/panel\";\nimport { GlobalStyles, theme } from \"./styles\";\nimport { ThemeProvider } from \"styled-components\";\nimport Header from \"./components/header\";\nimport styled from \"styled-components\";\n\nfunction App() {\n  return (\n    <>\n      <ThemeProvider theme={theme}>\n        <GlobalStyles />\n        <Container>\n          <Header />\n          <Panel />\n        </Container>\n      </ThemeProvider>\n    </>\n  );\n}\n\nexport default App;\n\nconst Container = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  width: 100%;\n  min-height: 100vh;\n\n  display: flex;\n  flex-direction: column;\n\n  background: #0079bf;\n`;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}